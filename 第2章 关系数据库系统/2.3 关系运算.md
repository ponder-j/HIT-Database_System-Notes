## 2.3.1 关系代数
![[Pasted image 20251022204720.png]]
6 中基本运算：
- Select : $\sigma$
- Project : $\Pi$
- Union : $\cup$
- Difference : $-$
- Cartesian Product : $\times$
- Rename : $\rho$
其他运算：
- Intersection : $\cap$
- Natural Join : $\bowtie$
- Division : $\div$

问题：选择、投影、并、差、笛卡尔积 5 种基本运算，能不能把“并”换成“交”？
ans：
不可以。交运算可以由差运算导出：$R \cap S = R - (R - S)$ 
如果换成交，无法导出并。
那如果把“差”换成“交”呢？
$R - S = ?$ 也不行，没法表达“补集”或者说“否定”的概念。

![[Pasted image 20251022210703.png]]
- 结果关系与原关系有相同的模式，横向选择

![[Pasted image 20251022210820.png]]
- 纵向选择，故为投影

![[Pasted image 20251022211015.png]]


![[Pasted image 20251022212501.png]]

![[Pasted image 20251022212517.png]]

![[Pasted image 20251022212637.png]]
- 相当于给表名和列名换名字

![[Pasted image 20251022214229.png]]

![[Pasted image 20251022214247.png]]
![[Pasted image 20251022214611.png]]
- 投影这一步相当于去除了所有重复的列，因为在笛卡尔积这一步的时候相同名字的列会有 2 个
- 肯定不能先投影，因为两个名字相同的列，不知道应该保留哪一列（它们值可能不同）

![[Pasted image 20251022215134.png]]
![[Pasted image 20251022215253.png]]
- 可以理解为 自然连接的扩展
- 自然连接实现的是一种特殊的 $\theta$ 连接，即相等关系

![[Pasted image 20251022215404.png]]

![[Pasted image 20251022215524.png]]
- 全外连接
	- 左外连接 $\cup$ 右外连接
![[Pasted image 20251022220214.png]]

![[Pasted image 20251022220332.png]]
- S 的列的集合一定是 R 的列的集合的子集
- 计算 R 和 S 自然连接的结果并删除共同的列

![[Pasted image 20251022221031.png]]
- 何意味？
- $\mathcal{G}$ 

![[Pasted image 20251022221457.png]]

## 2.3.2 元组演算
![[Pasted image 20251022222103.png]]
![[Pasted image 20251022222157.png]]
![[Pasted image 20251022222317.png]]
![[Pasted image 20251022222339.png]]
![[Pasted image 20251022222947.png]]
- 从这个例子可以看出，元组演算不关心这个集合 {t} 是怎么产生的，但是可以借助变量 s 来表达，体现了非过程化语言的性质。

## 2.3.3 域演算
![[Pasted image 20251022222932.png]]
![[Pasted image 20251022223217.png]]
![[Pasted image 20251022223255.png]]
## 2.3.4 关系运算的安全性
![[Pasted image 20251022223516.png]]
![[Pasted image 20251022223529.png]]
![[Pasted image 20251022223620.png]]
